(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();console.log("Script cargado correctamente");document.addEventListener("DOMContentLoaded",function(){console.log("DOM completamente cargado y parseado");const i=document.querySelector(".js-search"),c=document.querySelector(".js-btn-search"),a=document.querySelector(".js-btn-reset"),l=document.querySelector(".js-eliminar-fav"),e=document.querySelector(".js-container-result"),t=document.querySelector(".js-container-selected-fav");if(console.log("Elementos en el DOM:"),console.log("Input:",i),console.log("Botón de búsqueda:",c),console.log("Botón de reset:",a),console.log("Botón eliminar favoritos:",l),console.log("Contenedor de resultados:",e),console.log("Contenedor de favoritos:",t),console.log(document.querySelector(".js-search")),console.log(document.querySelector(".js-btn-search")),console.log(document.querySelector(".js-btn-reset")),console.log(document.querySelector(".js-eliminar-fav")),console.log(document.querySelector(".js-container-result")),console.log(document.querySelector(".js-container-selected-fav")),!i||!c||!a||!l||!e||!t){console.error("Uno o más elementos del DOM no se encontraron. Verifica los nombres de clase en index.html.");return}let d="https://api.jikan.moe/v4/anime?q=",m=[],n=[];l.addEventListener("click",()=>{n=[],t.innerHTML="",localStorage.setItem("favAnimeServer",JSON.stringify(n))}),a.addEventListener("click",()=>{i.value="",t.innerHTML="",e.innerHTML=""}),console.log("Todos los elementos fueron encontrados correctamente."),c.addEventListener("click",o=>{o.preventDefault();const u=i.value.toLowerCase();fetch(d+u).then(r=>r.json()).then(r=>{m=r.data,e.innerHTML=m.map(s=>`<div>
                        <img class="js-anime" src="${s.images.jpg.image_url}" alt="${s.title}" id="${s.mal_id}" />
                        <p>${s.title}</p>
                    </div>`).join(""),v()})});function v(){document.querySelectorAll(".js-anime").forEach(o=>{o.addEventListener("click",u=>{const r=parseInt(u.target.id),s=m.find(g=>g.mal_id===r);n.some(g=>g.mal_id===r)||(n.push(s),f())})})}function f(){t.innerHTML=n.map(o=>`<div>
                <img src="${o.images.jpg.image_url}" alt="${o.title}" />
                <p>${o.title}</p>
                <button class="remove-fav" data-id="${o.mal_id}">X</button>
            </div>`).join(""),document.querySelectorAll(".remove-fav").forEach(o=>{o.addEventListener("click",u=>{const r=parseInt(u.target.dataset.id);n=n.filter(s=>s.mal_id!==r),f()})}),localStorage.setItem("favAnimeServer",JSON.stringify(n))}const p=localStorage.getItem("favAnimeServer");p&&(n=JSON.parse(p),f())});
//# sourceMappingURL=index-DTz62XVc.js.map
